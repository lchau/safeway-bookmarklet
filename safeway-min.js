function is_null(o){return!o||typeof(o)==="undefined"}function not_null(o){return!is_null(o)}function AssertionError(a){this.message=a;this.toString=function(){return'AssertionError: '+this.message}}function assert(a,b){if(!a){throw new AssertionError(b);}}function assertNotNull(o,a){assert(not_null(o),a)}var click=function(){var a=document.createEvent("HTMLEvents");a.initEvent("click",true,true);return function(e){assertNotNull(e,"Element cannot be null");console.debug("dispatching click event -> "+e);e.dispatchEvent(a)}}();var get_value=function(){var c="_=_=_";return function(a){assertNotNull(a,"Cookie name cannot be null");console.debug("Getting value for cookie (name="+a+")");var b=Ext.util.Cookies.get(a);if(is_null(b)){console.warn("Value does not exist (name="+a+")")}else{console.debug("Extracting value: "+b);b=b.split(c)[1];if(is_null(b)){console.warn("Failed to extract value (name="+a+")")}}return b}}();(function(){function click_coupons(){Ext.select("div.lt-add-offer").each(function(){if(this.isVisible()){click(this.first().dom)}})}var b=get_value(Loyalty.itemsPerPageCookieName);if(parseInt(b)==Loyalty.pageSizeAll){click_coupons()}else{var c=Ext.ComponentQuery.query("component[cls='lt-pagination']");if(not_null(c)&&c.length>0){c[0].fireEvent("pagesizechange",Loyalty.pageSizeAll);Ext.onDocumentReady(function(){var a=new Ext.util.DelayedTask(function(){click_coupons()});a.delay(10000)})}}})();